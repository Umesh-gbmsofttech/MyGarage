âœ… Prerequisites
Expo project initialized with expo init.

EAS CLI installed:
npm install -g eas-cli


EAS configured in your project:
eas build:configure


GitHub repository set up and linked to your Expo project.
EAS tokens created for secure access to EAS services.

ğŸ“Œ Step 1: Set Up EAS Build
Authenticate with Expo:


eas login
Create an EAS token:


eas token:create
Store the token securely; it will be added to your GitHub secrets.

Configure EAS:


eas build:configure
This will generate the eas.json file. Ensure you have these profiles:

json
Copy
Edit
{
  "cli": {
    "version": ">= 3.0.0"
  },
  "build": {
    "development": {
      "distribution": "internal",
      "android": { "buildType": "apk" },
      "ios": { "simulator": true }
    },
    "production": {
      "distribution": "store",
      "android": { "buildType": "aab" },
      "ios": { "simulator": false }
    }
  }
}


ğŸ“Œ Step 2: Set Up GitHub Secrets
Go to your GitHub repository â†’ Settings â†’ Secrets and variables â†’ Actions and add:

EXPO_TOKEN: Your EAS token from Step 1.

APP_ENV: production (or other environments you want).

Any other sensitive variables (e.g., API keys).

ğŸ“Œ Step 3: Create GitHub Action Workflow
In your project, create a workflow file:
ğŸ“ .github/workflows/eas-build.yml

Hereâ€™s a template for building and deploying both Android and iOS:


name: EAS Build (Android & iOS)

on:
  push:
    branches:
      - master

jobs:
  build:
    name: Build and Deploy Expo App
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Code
        uses: actions/checkout@v3

      - name: Set up Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 18

      - name: Install Dependencies
        run: npm install

      - name: Install EAS CLI
        run: npm install -g eas-cli

      - name: Authenticate with Expo
        run: eas whoami || eas login --token ${{ secrets.EXPO_TOKEN }}

      - name: Build Android (AAB)
        run: eas build --platform android --profile production --non-interactive

      - name: Build iOS (IPA)
        run: eas build --platform ios --profile production --non-interactive

      - name: Upload Artifacts
        uses: actions/upload-artifact@v3
        with:
          name: build-artifacts
          path: |
            ./build/*.apk
            ./build/*.aab
            ./build/*.ipa
ğŸ“Œ Step 4: Triggering the Workflow
Commit and push your changes:


git add . && git commit -m "Setup EAS CI/CD" && git push origin master
Go to Actions in your GitHub repository to monitor the build process.

ğŸ“Œ Step 5: Download and Test Builds
Once the build completes:

Download the APK, AAB, or IPA from the Artifacts section in GitHub Actions.

Distribute the builds using Expo, Play Store, or TestFlight.

ğŸ“Œ Step 6: Automate Deployments to Stores (Optional)
Google Play: Link your Expo project with a Google Play Service Account.

Apple App Store: Ensure your app is registered on App Store Connect and authenticate with Apple credentials using eas credentials.